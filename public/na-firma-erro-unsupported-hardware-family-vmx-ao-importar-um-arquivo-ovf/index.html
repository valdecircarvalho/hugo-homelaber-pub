<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Na FIRMA - Erro: Unsupported hardware family vmx ao importar um arquivo .OVF :: Blog Homelaber Brasil |  — Homelab·Infraestrutura de TI· Cloud Computing· DevOps</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Olá Homelabers!
No post de hoje vou contar uma situação que enfrentei na FIRMA e como resolvi o problema. Acredito que isso possa ser útil para muita gente. Então vamos lá:
Hoje a tarde recebi um fornecedor que iria fazer um deploy de uma VM com um software para uma PoC (Prova de Conceito ou Proof of Concept em Inglês). Ele me trouxe um HD com o o OVF, os discos, etc."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/na-firma-erro-unsupported-hardware-family-vmx-ao-importar-um-arquivo-ovf/" />





<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Na FIRMA - Erro: Unsupported hardware family vmx ao importar um arquivo .OVF"/>
<meta name="twitter:description" content="Olá Homelabers!
No post de hoje vou contar uma situação que enfrentei na FIRMA e como resolvi o problema. Acredito que isso possa ser útil para muita gente. Então vamos lá:
Hoje a tarde recebi um fornecedor que iria fazer um deploy de uma VM com um software para uma PoC (Prova de Conceito ou Proof of Concept em Inglês). Ele me trouxe um HD com o o OVF, os discos, etc."/>



<meta property="og:title" content="Na FIRMA - Erro: Unsupported hardware family vmx ao importar um arquivo .OVF" />
<meta property="og:description" content="Olá Homelabers!
No post de hoje vou contar uma situação que enfrentei na FIRMA e como resolvi o problema. Acredito que isso possa ser útil para muita gente. Então vamos lá:
Hoje a tarde recebi um fornecedor que iria fazer um deploy de uma VM com um software para uma PoC (Prova de Conceito ou Proof of Concept em Inglês). Ele me trouxe um HD com o o OVF, os discos, etc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/na-firma-erro-unsupported-hardware-family-vmx-ao-importar-um-arquivo-ovf/" />
<meta property="article:published_time" content="2016-10-27T11:00:01+00:00" />
<meta property="article:modified_time" content="2016-10-27T11:00:01+00:00" /><meta property="og:site_name" content="Blog Homelaber Brasil | " />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">Homelaber Brasil</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/archive">arquivo</a></li>
        
      
        
          <li><a href="/sobre">sobre</a></li>
        
      
        
          <li><a href="https://github.com/valdecircarvalho/">github</a></li>
        
      
        
          <li><a href="https://twitter.com/homelaber">@homelaber</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/archive">arquivo</a></li>
      
    
      
        <li><a href="/sobre">sobre</a></li>
      
    
      
        <li><a href="https://github.com/valdecircarvalho/">github</a></li>
      
    
      
        <li><a href="https://twitter.com/homelaber">@homelaber</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="post">
    <h2 class="post-title"><a href="/na-firma-erro-unsupported-hardware-family-vmx-ao-importar-um-arquivo-ovf/">Na FIRMA - Erro: Unsupported hardware family vmx ao importar um arquivo .OVF</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            27-10-2016
        </span>
      
      <span class="post-author">— Written by Valdecir Carvalho</span>
      
        <span class="post-read-time">— 2 min lendo</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/erro/">erro</a>&nbsp;
        
          #<a href="/tags/erro-importar-ovf/">erro importar ovf</a>&nbsp;
        
          #<a href="/tags/erro-importar-ovf-vmware/">erro importar ovf vmware</a>&nbsp;
        
          #<a href="/tags/erro-vmware/">erro vmware</a>&nbsp;
        
          #<a href="/tags/unsupported-hardware-family-vmx-during-ovf-import/">Unsupported hardware family vmx during OVF import</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      <p>Olá Homelabers!</p>
<p>No post de hoje vou contar uma situação que enfrentei na <strong>FIRMA</strong> e como resolvi o problema. Acredito que isso possa ser útil para muita gente. Então vamos lá:</p>
<p>Hoje a tarde recebi um fornecedor que iria fazer um deploy de uma VM com um software para uma PoC (Prova de Conceito ou Proof of Concept em Inglês). Ele me trouxe um HD com o o OVF, os discos, etc. Até ai tudo fácil e normal. Fazer deploy de OVF é fácil.</p>
<p>Quando comecei a importação do OVF, tomei o seguinte erro:</p>
<!-- raw HTML omitted -->
<p><img src="/imagens/2016/10/2016-10-25-19_07_02-Deploy-OVF-Template.png" alt="This OVF package uses features that are not supported. The OVF package requires unsupported hardware. Details: Line 31: Unsupported hardware family &lsquo;vmx-11&rsquo;"></p>
<h2 id="unsupported-hardware-family-vmx--during-ovf-import">Unsupported hardware family vmx- during OVF import</h2>
<p>Logo suspeitei que fosse a <strong>versão do ESXi que a VM foi exportada**. Fui consultar a</strong> base de KB's da VMware**<a href="https://kb.vmware.com/selfservice/microsites/microsite.do"></a> e encontrei um <a href="https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1003746">artigo</a> explicando as <strong>versões de hardware de uma VM</strong> - <strong>Virtual machine hardware versions (1003746)</strong> e nesse artigo descobri que a familia vmx-11 se refere a VMs criadas no ESXi 6.x. Como o meu ambiente lá na FIRMA roda em ESXi 5.5 matei o problema na hora.</p>
<p>Agora tinha que descobrir como converter um OVF criado na versão 6.x para a versão 5.5 do VMware ESXi. Mais uma vez com a ajudinha do Google, <a href="http://www.running-system.com/unsupported-hardware-family-vmx-10-during-ovf-import/">encontrei um artigo no Running-System.com</a> de Julho de 2015 que ensinava a converter um OVF da familia vmx-10. Tentei o mesmo procedimento e deu certo. Vou reproduzir aqui para vocês o que eu fiz.</p>
<p><img src="/imagens/2016/10/troubleshooting.jpg" alt="troubleshooting"></p>
<!-- raw HTML omitted -->
<p><strong>1. Editar o arquivo .OVF para trocar a versão do hardware</strong></p>
<pre><code>  * Faça uma cópia do arquivo .ovf
  * Abra o arquivo e edite a seguinte linha:
</code></pre>
<p><em><!-- raw HTML omitted --></em>
_ <!-- raw HTML omitted -->Virtual hardware requirements<!-- raw HTML omitted -->_
_ <!-- raw HTML omitted -->_
_ <a href="vssd:ElementName">vssd:ElementName</a>Virtual Hardware FamilyElementName&gt;_
_ <a href="vssd:InstanceID">vssd:InstanceID</a>0InstanceID&gt;_
_ <a href="vssd:VirtualSystemIdentifier">vssd:VirtualSystemIdentifier</a>OracleBigDataDiscovery1.2VirtualSystemIdentifier&gt;_
_ <a href="vssd:VirtualSystemType">vssd:VirtualSystemType</a>**vmx-11**&lt;/vssd:VirtualSystemType&gt;_
_ <!-- raw HTML omitted -->_
* Troque o **vmx-11** por **vmx-10** que é a família da VM do ESXi 5.5
* Salve o arquivo e &ldquo;reserve&rdquo;.</p>
<p><img src="/imagens/2016/10/2016-10-26_00-08-09-300x203.png" alt="2016-10-26_00-08-09"></p>
<ol>
<li>
<p>Editar o arquivo .mf e trocar o hash que representa o arquivo .ovf O hash desse arquivo usa SHA-1</p>
<ul>
<li>Acessar o site <a href="http://onlinemd5.com/">http://onlinemd5.com/</a></li>
</ul>
</li>
</ol>
<p><img src="/imagens/2016/10/2016-10-26_00-46-04-300x134.png" alt="2016-10-26_00-46-04"></p>
<pre><code>  * Carregar o arquivo **.ovf alterado**
  * Calcular o **valor do hash SHA-1**
  * Trocar o **hash do arquivo antigo** para **hash do arquivo editado**
  * Salvar o arquivo .mf
</code></pre>
<p><img src="/imagens/2016/10/2016-10-26_00-12-52.png" alt="2016-10-26_00-12-52"></p>
<p>Após isso, é só voltar a fazer o deploy do .ovf normalmente no ESXi e pronto. Vai passar liso!</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Uma informação importante: <strong>A VM não vai ligar se vc utilizar uma versão de VM acima do ambiente instalado. Ex. O ESXi 6 vai rodar uma VM criada no ESXi 5.X, mas o contrário não é verdade.</strong></p>
<p>É isso ai pessoal! Até a próxima!</p>
<p>VC</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h">Leia outros posts</span>
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/vdm30in30-foi-dada-a-largada-atrasado/">
                  <span class="button__icon">←</span>
                  <span class="button__text">#vDM30in30 Foi dada a largada... atrasado :(</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/evento-google-cloud-plataform-next-gcpnext-sao-paulo/">
                  <span class="button__text">Evento: Google Cloud Plataform Next GCPNEXT São Paulo</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    
    

    
      
        

      
    
    
    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">2016-2019 - Homelaber Brasil - Valdecir Carvalho</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
